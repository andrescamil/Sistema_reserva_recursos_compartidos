{% extends 'base.html' %}

{% block title %}Seleccionar cliente (nodo){% endblock %}

{% block content %}
<div class="row mb-4">
  <div class="col-lg-8">
    <h1 class="h3 mb-2">Seleccionar cliente (nodo)</h1>
    <p class="text-muted">
      Este cliente representa un nodo del sistema distribuido (por ejemplo Nodo A, Nodo B, Nodo C).
      Abre varias pestañas con distintos clientes para simular concurrencia.
    </p>
  </div>
</div>

<div class="row g-3">
  {% for c in clientes %}
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title mb-1">{{ c.nombre|default:c.identificador_externo }}</h5>
          <p class="card-subtitle text-muted mb-3">
            Identificador: <strong>{{ c.identificador_externo }}</strong>
          </p>
          <p class="text-muted small mb-4">
            Nodo participante en el algoritmo de exclusión mutua distribuida.
          </p>
          <div class="mt-auto">
            <a href="{% url 'lista_recursos' c.id %}" class="btn btn-primary w-100">
              Entrar como este cliente
            </a>
          </div>
        </div>
      </div>
    </div>
  {% empty %}
    <div class="col-12">
      <div class="alert alert-info">
        No hay clientes configurados. Crea algunos clientes en la base de datos para comenzar la simulación.
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}